<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bareerah Admin Dashboard</title>
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKM_1dVEQV4H5JFW52_j8fy0UOhH7KPdQ&libraries=places"></script>
</head>
<body>
  <div class="container">
    <!-- Titlebar -->
    <div class="titlebar">
      <h1>Bareerah Admin</h1>
      <div class="titlebar-right">
        <button class="theme-toggle" id="themeToggle">üåô</button>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Sidebar -->
      <aside class="sidebar">
        <a class="nav-item active" data-page="dashboard">üìä Dashboard</a>
        <a class="nav-item" data-page="kpi">üíπ KPI & Profits</a>
        <a class="nav-item" data-page="bookings">üìÖ Bookings</a>
        <div class="nav-submenu-toggle" onclick="toggleSubmenu(this)">üë• Drivers ‚ñº</div>
        <div class="nav-submenu" style="display: none;">
          <a class="nav-item" data-page="drivers-all">All Drivers</a>
          <a class="nav-item" data-page="drivers-online">Online</a>
          <a class="nav-item" data-page="drivers-offline">Offline</a>
        </div>
        <div class="nav-submenu-toggle" onclick="toggleSubmenu(this)">üöó Cars ‚ñº</div>
        <div class="nav-submenu" style="display: none;">
          <a class="nav-item" data-page="cars-all">All Cars</a>
          <a class="nav-item" data-page="cars-sedan">Sedan</a>
          <a class="nav-item" data-page="cars-suv">SUV</a>
          <a class="nav-item" data-page="cars-luxury">Luxury</a>
          <a class="nav-item" data-page="cars-van">Vans</a>
          <a class="nav-item" data-page="cars-bus">Bus</a>
          <a class="nav-item" data-page="cars-minibus">Mini Bus</a>
          <a class="nav-item" data-page="cars-add">‚ûï Add New Vehicle</a>
        </div>
        <a class="nav-item" data-page="fares">üí∞ Fare Rules</a>
        <a class="nav-item" data-page="settings">‚öôÔ∏è Settings</a>
        <a class="nav-item" data-page="alerts">üö® Alerts</a>
      </aside>

      <!-- Content Area -->
      <main class="content">
        <!-- Dashboard Page -->
        <div id="page-dashboard" class="page active">
          <h2 class="page-title">Dashboard</h2>
          
          <!-- Filter Controls -->
          <div class="filter-bar">
            <div class="filter-group">
              <button class="filter-btn active" data-range="today">Today</button>
              <button class="filter-btn" data-range="yesterday">Yesterday</button>
              <button class="filter-btn" data-range="week">This Week</button>
              <button class="filter-btn" data-range="month">This Month</button>
              <button class="filter-btn" data-range="custom">Custom Range</button>
            </div>
            <div class="date-picker" style="display: none;" id="customDatePicker">
              <input type="date" id="startDate">
              <span>to</span>
              <input type="date" id="endDate">
              <button class="btn btn-small btn-primary" onclick="applyCustomRange()">Apply</button>
            </div>
          </div>

          <!-- Summary Cards -->
          <div class="stats-grid">
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Total Bookings</div>
                <span class="stat-icon">üìä</span>
              </div>
              <div class="stat-value" id="stat-bookings">0</div>
              <div class="stat-subtitle">in selected period</div>
            </div>
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Completed</div>
                <span class="stat-icon">‚úÖ</span>
              </div>
              <div class="stat-value" id="stat-completed">0</div>
              <div class="stat-subtitle">successful rides</div>
            </div>
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Pending</div>
                <span class="stat-icon">‚è≥</span>
              </div>
              <div class="stat-value" id="stat-pending">0</div>
              <div class="stat-subtitle">awaiting completion</div>
            </div>
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Cancelled</div>
                <span class="stat-icon">‚ùå</span>
              </div>
              <div class="stat-value" id="stat-cancelled">0</div>
              <div class="stat-subtitle">cancelled rides</div>
            </div>
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Total Revenue</div>
                <span class="stat-icon">üí∞</span>
              </div>
              <div class="stat-value" id="stat-revenue">AED 0</div>
              <div class="stat-subtitle">completed bookings</div>
            </div>
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Cash vs Card</div>
                <span class="stat-icon">üí≥</span>
              </div>
              <div class="stat-split">
                <div class="split-item">
                  <span>Cash:</span>
                  <span id="stat-cash">AED 0</span>
                </div>
                <div class="split-item">
                  <span>Card:</span>
                  <span id="stat-card">AED 0</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Charts Section -->
          <div class="charts-container">
            <div class="chart-card">
              <h3>7-Day Booking Trend</h3>
              <canvas id="bookingsChart"></canvas>
            </div>
            <div class="chart-card">
              <h3>Revenue by Vehicle Type</h3>
              <canvas id="revenueChart"></canvas>
            </div>
            <div class="chart-card">
              <h3>Top Drivers</h3>
              <div id="driversStats" class="drivers-list"></div>
            </div>
          </div>

          <!-- Alerts Panel -->
          <div class="alerts-panel">
            <h3>System Alerts</h3>
            <div id="alertsList" class="alerts-list"></div>
          </div>
        </div>

        <!-- KPI & Profits Page -->
        <div id="page-kpi" class="page">
          <h2 class="page-title">KPI & Profits Dashboard</h2>
          
          <div class="filter-bar">
            <div class="filter-group">
              <button class="filter-btn active" data-range="today" onclick="loadKPI()">Today</button>
              <button class="filter-btn" data-range="yesterday" onclick="loadKPI()">Yesterday</button>
              <button class="filter-btn" data-range="week" onclick="loadKPI()">This Week</button>
              <button class="filter-btn" data-range="month" onclick="loadKPI()">This Month</button>
            </div>
          </div>

          <!-- KPI Cards -->
          <div class="stats-grid">
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Total Revenue</div>
                <span class="stat-icon">üí∞</span>
              </div>
              <div class="stat-value" id="kpi-total-revenue">AED 0</div>
              <div class="stat-subtitle">total earnings</div>
            </div>
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Vendor Commission</div>
                <span class="stat-icon">üè¢</span>
              </div>
              <div class="stat-value" id="kpi-vendor-commission">AED 0</div>
              <div class="stat-subtitle">paid to vendors</div>
            </div>
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Net Company Profit</div>
                <span class="stat-icon">üìà</span>
              </div>
              <div class="stat-value" id="kpi-company-profit">AED 0</div>
              <div class="stat-subtitle">our earnings</div>
            </div>
            <div class="stat-card glass">
              <div class="stat-header">
                <div class="stat-label">Profit Margin</div>
                <span class="stat-icon">üìä</span>
              </div>
              <div class="stat-value" id="kpi-profit-margin">0%</div>
              <div class="stat-subtitle">company profit %</div>
            </div>
          </div>

          <!-- Charts -->
          <div class="charts-container">
            <div class="chart-card">
              <h3>Earnings Breakdown by Timeframe</h3>
              <canvas id="earningsChart"></canvas>
            </div>
            <div class="chart-card">
              <h3>Company vs Vendor Earnings</h3>
              <canvas id="companyVendorChart"></canvas>
            </div>
            <div class="chart-card">
              <h3>Top Vendors by Revenue</h3>
              <div id="topVendorsList" class="vendors-list"></div>
            </div>
          </div>
        </div>

        <!-- Bookings Page -->
        <div id="page-bookings" class="page">
          <h2 class="page-title">Bookings</h2>
          
          <div class="filter-bar">
            <div class="filter-group">
              <button class="filter-btn active" data-range="today">Today</button>
              <button class="filter-btn" data-range="yesterday">Yesterday</button>
              <button class="filter-btn" data-range="week">Week</button>
              <button class="filter-btn" data-range="month">Month</button>
            </div>
            <div class="search-box">
              <input type="text" id="bookingSearch" placeholder="Search by name, phone, or location...">
            </div>
            <div class="filter-dropdowns">
              <select id="statusFilter">
                <option value="">All Status</option>
                <option value="pending">Pending</option>
                <option value="completed">Completed</option>
                <option value="cancelled">Cancelled</option>
              </select>
              <select id="vehicleFilter">
                <option value="">All Vehicles</option>
                <option value="sedan">Sedan</option>
                <option value="suv">SUV</option>
                <option value="luxury">Luxury</option>
                <option value="van">Van</option>
                <option value="bus">Bus</option>
                <option value="minibus">Mini Bus</option>
              </select>
            </div>
            <button class="btn btn-primary" onclick="openAddBookingModal()">‚ûï Add Booking</button>
            <button class="btn btn-primary" onclick="exportBookings('csv')">üì• Export CSV</button>
          </div>

          <div class="card">
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Booking ID</th>
                    <th>Customer</th>
                    <th>Phone</th>
                    <th>Pickup</th>
                    <th>Drop</th>
                    <th>Distance (km)</th>
                    <th>Vehicle</th>
                    <th>Fare</th>
                    <th>Driver</th>
                    <th>Payment</th>
                    <th>Status</th>
                    <th>Date</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="bookings-table-body">
                  <tr><td colspan="13" style="text-align: center; color: var(--text-secondary);">Loading...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Drivers Pages -->
        <div id="page-drivers-all" class="page">
          <h2 class="page-title">Drivers</h2>
          <div class="card">
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Phone</th>
                    <th>Status</th>
                    <th>Car Assigned</th>
                    <th>Total Trips</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="drivers-table-body">
                  <tr><td colspan="7" style="text-align: center; color: var(--text-secondary);">Loading...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Cars Pages -->
        <div id="page-cars-all" class="page">
          <h2 class="page-title">Vehicles</h2>
          <div class="card">
            <div class="table-container" id="carsGrid">
              <p>Loading...</p>
            </div>
          </div>
        </div>

        <!-- Add Vehicle Page -->
        <div id="page-cars-add" class="page">
          <h2 class="page-title">Add New Vehicle</h2>
          <div class="card">
            <form id="addVehicleForm" style="display: grid; gap: 15px;">
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                  <label>Plate Number</label>
                  <input type="text" id="addVehiclePlate" placeholder="e.g. ABC-1234" required>
                </div>
                <div class="form-group">
                  <label>Model</label>
                  <input type="text" id="addVehicleModel" placeholder="e.g. Toyota Corolla" required>
                </div>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                  <label>Vehicle Type</label>
                  <select id="addVehicleType" required>
                    <option value="">Select Type</option>
                    <option value="sedan">Sedan</option>
                    <option value="suv">SUV</option>
                    <option value="luxury">Luxury</option>
                    <option value="van">Van</option>
                    <option value="bus">Bus</option>
                    <option value="minibus">Mini Bus</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Status</label>
                  <select id="addVehicleStatus" required>
                    <option value="available">Available</option>
                    <option value="maintenance">Maintenance</option>
                    <option value="rented">Rented</option>
                  </select>
                </div>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                  <label>Max Passengers</label>
                  <input type="number" id="addVehiclePassengers" value="4" min="1" required>
                </div>
                <div class="form-group">
                  <label>Max Luggage</label>
                  <input type="number" id="addVehicleLuggage" value="3" min="0" required>
                </div>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                  <label>Per KM Price (AED)</label>
                  <input type="number" id="addVehiclePerKm" value="3.5" step="0.01" min="0" required>
                </div>
                <div class="form-group">
                  <label>Hourly Price (AED)</label>
                  <input type="number" id="addVehicleHourly" value="75" step="0.01" min="0" required>
                </div>
              </div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                  <label>üé® Car Color</label>
                  <input type="text" id="addVehicleColor" placeholder="e.g. Silver, Black, White" value="White" required>
                </div>
                <div class="form-group">
                  <label>üì∑ Car Image (jpg/png/webp, max 2MB)</label>
                  <input type="file" id="addVehicleImage" accept=".jpg,.jpeg,.png,.webp">
                </div>
              </div>
              <div class="form-group">
                <label>Vendor ID (optional)</label>
                <input type="text" id="addVehicleVendor" placeholder="Leave empty for Gold Rush Limo">
              </div>
              <button type="submit" class="btn btn-primary" style="width: 100%; padding: 12px; font-size: 1em;">Add Vehicle</button>
            </form>
          </div>
        </div>

        <!-- Fare Rules Page -->
        <div id="page-fares" class="page">
          <h2 class="page-title">Fare Rules Configuration</h2>
          <div class="card">
            <form id="fareForm">
              <div class="form-grid">
                <div class="form-group">
                  <label>Base Fare (AED)</label>
                  <input type="number" id="baseFare" value="5" step="0.01">
                </div>
                <div class="form-group">
                  <label>Per Km Rate - Sedan (AED)</label>
                  <input type="number" id="sedanKmRate" value="3.5" step="0.01">
                </div>
                <div class="form-group">
                  <label>Per Km Rate - SUV (AED)</label>
                  <input type="number" id="suvKmRate" value="4.5" step="0.01">
                </div>
                <div class="form-group">
                  <label>Per Km Rate - Luxury (AED)</label>
                  <input type="number" id="luxuryKmRate" value="6.5" step="0.01">
                </div>
              </div>
              <button type="submit" class="btn btn-primary">Save Fare Rules</button>
            </form>
          </div>
        </div>

        <!-- Settings Page -->
        <div id="page-settings" class="page">
          <h2 class="page-title">Settings</h2>
          <div class="card">
            <h3>API Configuration</h3>
            <div class="form-group">
              <label>API Base URL</label>
              <input type="text" id="apiUrl" readonly>
            </div>
            <h3 style="margin-top: 30px;">System Information</h3>
            <div class="info-grid">
              <div class="info-item">
                <span>Dashboard Version</span>
                <strong>2.1.0</strong>
              </div>
              <div class="info-item">
                <span>Last Updated</span>
                <strong id="lastUpdated">--</strong>
              </div>
              <div class="info-item">
                <span>User</span>
                <strong id="currentUser">--</strong>
              </div>
            </div>
          </div>
        </div>

        <!-- Alerts Page -->
        <div id="page-alerts" class="page">
          <h2 class="page-title">System Alerts</h2>
          <div class="card">
            <div id="alertsFullList" class="alerts-full-list"></div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- Booking Detail Modal -->
  <div id="bookingDetailModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Booking Details</h3>
        <button class="modal-close" onclick="closeModal('bookingDetailModal')">√ó</button>
      </div>
      <div class="modal-body" id="bookingDetailContent">
        Loading...
      </div>
    </div>
  </div>

  <!-- Edit Booking Modal -->
  <div id="editBookingModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Edit Booking</h3>
        <button class="modal-close" onclick="closeModal('editBookingModal')">√ó</button>
      </div>
      <div class="modal-body">
        <form id="editBookingForm">
          <div class="form-group">
            <label>Status</label>
            <select id="editStatus">
              <option value="pending">Pending</option>
              <option value="completed">Completed</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
          <div class="form-group">
            <label>Payment Method</label>
            <select id="editPayment">
              <option value="cash">Cash</option>
              <option value="card">Card</option>
            </select>
          </div>
          <div class="form-group">
            <label>Fare Amount (AED)</label>
            <input type="number" id="editFare" step="0.01">
          </div>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal Overlay -->
  <div id="modalOverlay" class="modal-overlay" style="display: none;" onclick="closeAllModals()"></div>

  <script src="js/app.js"></script>
</body>
</html>

  <!-- Car Edit Modal -->
  <div id="carEditModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Edit Vehicle</h3>
        <button class="modal-close" onclick="closeModal('carEditModal')">√ó</button>
      </div>
      <div class="modal-body" style="display: grid; gap: 15px;">
        <div class="form-group">
          <label>üé® Color</label>
          <input type="text" id="editCarColor" placeholder="e.g. Silver" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px;">
        </div>
        <div class="form-group">
          <label>üì∑ Image (jpg/png/webp, max 2MB)</label>
          <input type="file" id="editCarImage" accept=".jpg,.jpeg,.png,.webp" style="width: 100%; padding: 8px;">
        </div>
        <div class="form-group">
          <label>Status</label>
          <select id="editCarStatus" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px;">
            <option value="available">Available</option>
            <option value="maintenance">Maintenance</option>
            <option value="rented">Rented</option>
          </select>
        </div>
        <button class="btn btn-primary" onclick="saveCarChanges()" style="width: 100%; padding: 10px;">üíæ Save Changes</button>
      </div>
    </div>
  </div>

  <!-- Driver View Modal -->
  <div id="driverViewModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Driver Details</h3>
        <button class="modal-close" onclick="closeModal('driverViewModal')">√ó</button>
      </div>
      <div class="modal-body" style="display: grid; gap: 15px;">
        <div style="text-align: center;">
          <img id="driverViewImage" src="https://via.placeholder.com/120?text=Driver" alt="Driver" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid var(--accent-color);">
        </div>
        <div id="driverViewContent">Loading...</div>
      </div>
    </div>
  </div>

  <!-- Driver Edit Modal -->
  <div id="driverEditModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Edit Driver</h3>
        <button class="modal-close" onclick="closeModal('driverEditModal')">√ó</button>
      </div>
      <div class="modal-body" style="display: grid; gap: 15px;">
        <div style="text-align: center;">
          <img id="editDriverImage" src="https://via.placeholder.com/120?text=Driver" alt="Driver" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid var(--accent-color); margin-bottom: 10px;">
        </div>
        <div class="form-group">
          <label>üì∑ Driver Photo (jpg/png/webp, max 2MB)</label>
          <input type="file" id="editDriverImageFile" accept=".jpg,.jpeg,.png,.webp" style="width: 100%; padding: 8px;">
        </div>
        <div class="form-group">
          <label>üìã License Number</label>
          <input type="text" id="editLicenseNumber" placeholder="License number" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px;">
        </div>
        <div class="form-group">
          <label>üìÖ License Issue Date</label>
          <input type="date" id="editLicenseIssue" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px;">
        </div>
        <div class="form-group">
          <label>‚è∞ License Expiry Date</label>
          <input type="date" id="editLicenseExpiry" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px;">
        </div>
        <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
          <input type="checkbox" id="editAutoAssign" style="width: 20px; height: 20px;">
          <label style="margin: 0;">ü§ñ Enable Auto-Assignment</label>
        </div>
        <button class="btn btn-primary" onclick="saveDriverChanges()" style="width: 100%; padding: 10px;">üíæ Save Changes</button>
      </div>
    </div>
  </div>

  <!-- Add Booking Modal -->
  <div id="addBookingModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-height: 90vh; overflow-y: auto;">
      <div class="modal-header">
        <h3>‚ûï Create New Booking</h3>
        <button class="modal-close" onclick="closeModal('addBookingModal')">√ó</button>
      </div>
      <div class="modal-body" style="display: grid; gap: 15px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group">
            <label>üë§ Customer Name *</label>
            <input type="text" id="bookingCustomerName" placeholder="Full name" required>
          </div>
          <div class="form-group">
            <label>üìû Phone *</label>
            <input type="tel" id="bookingCustomerPhone" placeholder="+971..." required>
          </div>
        </div>
        <div class="form-group">
          <label>üìß Email</label>
          <input type="email" id="bookingCustomerEmail" placeholder="customer@email.com">
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group">
            <label>üìç Pickup Location *</label>
            <input type="text" id="bookingPickup" placeholder="e.g., Downtown Dubai" autocomplete="off" required>
            <div id="pickupSuggestions" style="position: absolute; background: var(--glass-bg); border: 1px solid var(--border-color); border-radius: 6px; max-height: 150px; overflow-y: auto; z-index: 1000; min-width: 200px; display: none;"></div>
          </div>
          <div class="form-group">
            <label>üèÅ Dropoff Location *</label>
            <input type="text" id="bookingDropoff" placeholder="e.g., Airport" autocomplete="off" required>
            <div id="dropoffSuggestions" style="position: absolute; background: var(--glass-bg); border: 1px solid var(--border-color); border-radius: 6px; max-height: 150px; overflow-y: auto; z-index: 1000; min-width: 200px; display: none;"></div>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group">
            <label>üìè Distance (km) *</label>
            <input type="number" id="bookingDistance" placeholder="25" step="0.1" min="0" readonly style="background: rgba(200,200,200,0.1); cursor: not-allowed;">
          </div>
          <div class="form-group">
            <label>üöó Vehicle Type *</label>
            <select id="bookingVehicleType" required onchange="updateBookingFare()">
              <option value="">Select Type</option>
              <option value="sedan">Sedan</option>
              <option value="suv">SUV</option>
              <option value="luxury">Luxury</option>
              <option value="van">Van</option>
              <option value="bus">Bus</option>
              <option value="minibus">Mini Bus</option>
            </select>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group">
            <label>üöô Car Model *</label>
            <select id="bookingCarModel" required>
              <option value="">Select Car Model</option>
              <option value="Toyota Camry">Toyota Camry</option>
              <option value="Honda Civic">Honda Civic</option>
              <option value="BMW 5 Series">BMW 5 Series</option>
              <option value="Mercedes E-Class">Mercedes E-Class</option>
              <option value="Range Rover">Range Rover</option>
              <option value="Ford Explorer">Ford Explorer</option>
              <option value="GMC Yukon">GMC Yukon</option>
              <option value="BMW 7 Series">BMW 7 Series</option>
              <option value="Mercedes V Class">Mercedes V Class</option>
              <option value="Toyota Hiace">Toyota Hiace</option>
            </select>
          </div>
          <div class="form-group">
            <label>üë®‚Äç‚úàÔ∏è Assign Driver</label>
            <select id="bookingDriverId">
              <option value="">Auto-assign</option>
              <option value="specific">Choose Driver</option>
            </select>
            <select id="bookingDriverSelect" style="display: none; margin-top: 8px;">
              <option value="">Select Driver</option>
            </select>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group">
            <label>üìã Booking Type *</label>
            <select id="bookingType" required onchange="updateBookingFare()">
              <option value="">Select Type</option>
              <option value="point_to_point">Point to Point</option>
              <option value="airport_transfer">Airport Transfer</option>
              <option value="city_tour">City Tour</option>
              <option value="hourly_rental">Hourly Rental</option>
            </select>
          </div>
          <div class="form-group">
            <label>üí≥ Payment Method</label>
            <select id="bookingPayment">
              <option value="cash">Cash</option>
              <option value="card">Card</option>
            </select>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group">
            <label>üìä Status</label>
            <select id="bookingStatus">
              <option value="pending">Pending</option>
              <option value="completed">Completed</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label>üìù Notes</label>
          <textarea id="bookingNotes" placeholder="Special instructions..." style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px; font-family: Arial, sans-serif; min-height: 60px;"></textarea>
        </div>
        <div style="background: rgba(52, 199, 89, 0.1); padding: 12px; border-radius: 6px; border-left: 3px solid #34C759;">
          <strong style="font-size: 1.1em;">Calculated Fare: AED <span id="bookingCalculatedFare">0.00</span></strong>
        </div>
        <button class="btn btn-primary" onclick="createManualBooking()" style="width: 100%; padding: 12px; font-size: 1em;">‚úÖ Create Booking & Send Email</button>
      </div>
    </div>
  </div>
